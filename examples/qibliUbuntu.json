{
    "asyncCommands": [
        {
            "description": "",
            "id": "openTester",
            "ifCommand": "open",
            "ifName": "tester1",
            "name": "Abrir Tester"
        },
        {
            "CR": true,
            "LF": true,
            "description": "Envia el comando al probador para enceder la fuente del equipo",
            "id": "powerOn",
            "ifCommand": "usartXfer",
            "ifName": "tester1",
            "name": "Encender",
            "txCommand": "enableSource",
            "txParameter": "1"
        },
        {
            "CR": true,
            "LF": true,
            "description": "Apaga las fuentes en caso de que hayan quedado encendidas.",
            "id": "powerOff",
            "ifCommand": "usartXfer",
            "ifName": "tester1",
            "name": "Apagar",
            "txCommand": "powerOff"
        },
        {
            "description": "",
            "id": "",
            "ifCommand": "dialog",
            "ifName": "app",
            "name": "N/A"
        },
        {
            "description": "",
            "id": "",
            "ifCommand": "dialog",
            "ifName": "app",
            "name": "N/A"
        },
        {
            "description": "",
            "id": "",
            "ifCommand": "dialog",
            "ifName": "app",
            "name": "N/A"
        },
        {
            "description": "",
            "id": "",
            "ifCommand": "dialog",
            "ifName": "app",
            "name": "N/A"
        },
        {
            "description": "",
            "id": "",
            "ifCommand": "dialog",
            "ifName": "app",
            "name": "N/A"
        },
        {
            "description": "",
            "id": "",
            "ifCommand": "dialog",
            "ifName": "app",
            "name": "N/A"
        }
    ],
    "interfaces": [
        {
            "alias": "tester2",
            "baudRate": 9600,
            "dataBits": 8,
            "parity": 0,
            "pid": "2303",
            "stopBits": 1,
            "type": "tty",
            "vid": "67b"
        },
        {
            "alias": "tester1",
            "baudRate": 115200,
            "dataBits": 8,
            "parity": 0,
            "pid": "43",
            "stopBits": 1,
            "type": "tty",
            "vid": "2341"
        },
        {
            "alias": "novatecnicaFrameConfigurator",
            "path": "/home/ingenieria/Escritorio/tarpuqJIGsw/novatecnicaConfigurator",
            "type": "plugin"
        },
        {
            "alias": "app",
            "type": "app"
        },
        {
            "alias": "ftdiProgram",
            "path": "/home/ingenieria/Escritorio/tarpuqJIGsw/ftdiProgram",
            "type": "plugin"
        },
        {
            "alias": "pickit",
            "bur": "BUR160872187",
            "gndPin": "GND",
            "mclrPin": "MCLR",
            "pgcPin": "PGC",
            "pgdPin": "PGD",
            "target": "PIC32MX370F512H",
            "type": "usb",
            "vccPin": "VCC"
        },
        {
            "alias": "dut",
            "baudRate": 9600,
            "dataBits": 8,
            "parity": 0,
            "pid": "6015",
            "stopBits": 1,
            "type": "tty",
            "vid": "403"
        }
    ],
    "ipeConfigs": {
        "hexPath": "/home/tarpuq/ownCloud/Invitado/tarpuqJIG/26072019/QibliControl_v190724.X.production.unified.hex",
        "ipePath": "/opt/microchip/mplabx/v5.20/mplab_platform/mplab_ipe/ipecmd.sh"
    },
    "productCode": "TQ1000106-02",
    "productName": "06-Deshumidificador Qibli",
    "syncCommands": [
        {
            "description": "Abre la interfaz de comunicación con el probador 1",
            "enabled": true,
            "end": true,
            "id": "openTester1",
            "ifCommand": "open",
            "ifName": "tester1",
            "messageOnErr": "No es posible abrir la interfaz de comunicación con el probador 1",
            "name": "Abre comunicación con probador 1",
            "timeout": 500
        },
        {
            "description": "Espera el mensaje OK del probador",
            "enabled": true,
            "id": "waitTester",
            "ifCommand": "usartXfer",
            "ifName": "tester1",
            "name": "Espera que el probador 1 arranque",
            "onErr": "1",
            "onOk": "OK",
            "timeout": 3000
        },
        {
            "CR": true,
            "LF": true,
            "description": "Apaga las fuentes en caso de que hayan quedado encendidas.",
            "enabled": true,
            "id": "id",
            "ifCommand": "usartXfer",
            "ifName": "tester1",
            "name": "Apagar las fuentes",
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000,
            "txCommand": "powerOff"
        },
        {
            "CR": true,
            "LF": true,
            "description": "",
            "enabled": true,
            "id": "id",
            "ifCommand": "usartXfer",
            "ifName": "tester1",
            "name": "Liberar los pulsantes",
            "onErr": "1",
            "onOk": "0",
            "timeout": 10000,
            "txCommand": "pbOff"
        },
        {
            "CR": true,
            "LF": true,
            "description": "Envía el comando para chequeo de la resistencia de la bobina",
            "deviation": 7,
            "enabled": true,
            "id": "testLoop",
            "ifCommand": "usartXfer",
            "ifName": "tester1",
            "mean": 12,
            "messageOnErr": "La resistencia de la bobina no está dentro del rango",
            "messageOnOk": "La resistencia de la bobina está dentro del rango",
            "name": "Medir resistencia de la bobina",
            "onErr": "1",
            "onOk": "0",
            "rxParameter": "%measure",
            "timeout": 5000,
            "txCommand": "testLoop"
        },
        {
            "CR": true,
            "LF": true,
            "description": "Envía el comando para chequeo del valor de tensión de la fuente de 3.3V",
            "deviation": 0.3,
            "enabled": true,
            "end": true,
            "id": "testSource3.3V",
            "ifCommand": "usartXfer",
            "ifName": "tester1",
            "mean": 3.3,
            "messageOnErr": "El valor de voltaje de la fuente de 3.3V no está dentro del rango",
            "messageOnOk": "El valor de voltaje de la fuente de 3.3V está dentro del rango",
            "name": "Medir la tensión en la fuente de 3.3V",
            "onErr": "1",
            "onOk": "0",
            "rxParameter": "%measure",
            "timeout": 10000,
            "txCommand": "testSource",
            "txParameter": "1"
        },
        {
            "CR": true,
            "LF": true,
            "description": "Envía el comando para chequeo del valor de tensión de la fuente de 12V",
            "deviation": 1,
            "enabled": true,
            "end": true,
            "id": "testSource12V",
            "ifCommand": "usartXfer",
            "ifName": "tester1",
            "mean": 12,
            "messageOnErr": "El valor de voltaje de la fuente de 12V no está dentro del rango",
            "messageOnOk": "El valor de voltaje de la fuente de 12V está dentro del rango",
            "name": "Medir la tensión en la fuente de 12V",
            "onErr": "1",
            "onOk": "0",
            "rxParameter": "%measure",
            "timeout": 10000,
            "txCommand": "testSource",
            "txParameter": "2"
        },
        {
            "CR": true,
            "LF": true,
            "description": "Envía el comando para chequeo del valor de tensión de la fuente de 15V",
            "deviation": 1,
            "enabled": true,
            "end": true,
            "id": "testSource15V",
            "ifCommand": "usartXfer",
            "ifName": "tester1",
            "mean": 15,
            "messageOnErr": "El valor de voltaje de la fuente de 15V no está dentro del rango",
            "messageOnOk": "El valor de voltaje de la fuente de 15V está dentro del rango",
            "name": "Medir la tensión en la fuente de 15V",
            "onErr": "1",
            "onOk": "0",
            "rxParameter": "%measure",
            "timeout": 3000,
            "txCommand": "testSource",
            "txParameter": "3"
        },
        {
            "CR": true,
            "LF": true,
            "description": "Envia el comando al arduino para enceder la fuente del equipo",
            "enabled": true,
            "end": true,
            "id": "powerOn",
            "ifCommand": "usartXfer",
            "ifName": "tester1",
            "name": "Encender la fuente principal del Qibli",
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000,
            "txCommand": "powerOn"
        },
        {
            "delay": 1000,
            "description": "Configura el FTDI",
            "enabled": true,
            "end": true,
            "id": "ftprog",
            "ifCommand": "run",
            "ifName": "ftdiProgram",
            "ifParameter": "-P \"NovaTecnica Qibli\" -S %serialNumber",
            "name": "Configuración del FTDI",
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000
        },
        {
            "description": "Comando para realizar la programación del firmware",
            "enabled": true,
            "end": true,
            "id": "program",
            "ifCommand": "program",
            "ifName": "pickit",
            "ifParameter": "-TS%bur -P%target -F%H -M -OL -OB",
            "name": "Programar el firmware del dispositivo",
            "timeout": 90000
        },
        {
            "CR": true,
            "LF": true,
            "description": "Envia el comando al arduino para apagar la fuente del equipo",
            "enabled": true,
            "id": "powerOff",
            "ifCommand": "usartXfer",
            "ifName": "tester1",
            "name": "Apagar la fuente principal del dispositivo",
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000,
            "txCommand": "powerOff"
        },
        {
            "CR": true,
            "LF": true,
            "delay": 3000,
            "description": "Envia el comando al arduino para enceder la fuente del equipo",
            "enabled": true,
            "end": true,
            "id": "powerOn",
            "ifCommand": "usartXfer",
            "ifName": "tester1",
            "name": "Encender la fuente principal del dispositivo",
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000,
            "txCommand": "enableSource",
            "txParameter": "1"
        },
        {
            "description": "Abre la interfaz de comunicación con el dispositivo, puede demorar mas de 30 segundos.",
            "enabled": true,
            "end": true,
            "id": "openDut",
            "ifCommand": "open",
            "ifName": "dut",
            "messageOnErr": "No es posible abrir la interfaz de comunicación con el Qibli",
            "name": "Abrir la interfaz de comunicación con el dispositivo",
            "timeout": 20000
        },
        {
            "description": "Comando que indica que el dispositivo está listo para recibir comandos",
            "enabled": true,
            "end": true,
            "id": "ready",
            "ifCommand": "usartXfer",
            "ifName": "dut",
            "name": "Esperando señal READY del dispositivo",
            "rxCommand": "@Ready",
            "timeout": 30000
        },
        {
            "CR": true,
            "LF": true,
            "description": "Comando para ingresar al modo de pruebas del dispositivo.",
            "enabled": true,
            "end": true,
            "id": "testInit",
            "ifCommand": "usartXfer",
            "ifName": "dut",
            "name": "Enviar @TEST_INIT",
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000,
            "txCommand": "@TEST_INIT"
        },
        {
            "CR": true,
            "LF": true,
            "description": "Comando para probar el reloj de tiempo real",
            "enabled": true,
            "id": "testRTC",
            "ifCommand": "usartXfer",
            "ifName": "dut",
            "name": "Enviar @RTC",
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000,
            "txCommand": "@RTC"
        },
        {
            "CR": true,
            "LF": true,
            "description": "Iguala la hora del dispositivo",
            "enabled": true,
            "id": "igualaRTC",
            "ifCommand": "usartXfer",
            "ifName": "dut",
            "name": "Enviar @RTCIGUALA",
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000,
            "txCommand": "@RTCIGUALA",
            "txParameter": "%D"
        },
        {
            "CR": true,
            "LF": true,
            "description": "Prueba que las entradas estén en OFF",
            "enabled": true,
            "id": "testInputsOff",
            "ifCommand": "usartXfer",
            "ifName": "dut",
            "name": "Enviar @IN1OFF",
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000,
            "txCommand": "@IN1OFF"
        },
        {
            "CR": true,
            "LF": true,
            "description": "Envia comando para activar el pulsante 1",
            "enabled": true,
            "id": "PB1On",
            "ifCommand": "usartXfer",
            "ifName": "tester1",
            "name": "Probador 1, enceder entrada 1",
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000,
            "txCommand": "pb1",
            "txParameter": "1"
        },
        {
            "CR": true,
            "LF": true,
            "description": "Prueba si la entrada 1 está presionada",
            "enabled": true,
            "id": "testIN1ON",
            "ifCommand": "usartXfer",
            "ifName": "dut",
            "name": "Enviar @IN1ON",
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000,
            "txCommand": "@IN1ON"
        },
        {
            "CR": true,
            "LF": true,
            "description": "",
            "enabled": true,
            "id": "id",
            "ifCommand": "usartXfer",
            "ifName": "tester1",
            "name": "Probador 1, enceder entrada 2",
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000,
            "txCommand": "pb2",
            "txParameter": "1"
        },
        {
            "CR": true,
            "LF": true,
            "description": "Prueba si la entrada 2 está presionada",
            "enabled": true,
            "id": "testIN2ON",
            "ifCommand": "usartXfer",
            "ifName": "dut",
            "name": "Enviar @IN2ON",
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000,
            "txCommand": "@IN2ON"
        },
        {
            "CR": true,
            "LF": true,
            "description": "Activa la entrada 3 del dispositivo",
            "enabled": true,
            "id": "id",
            "ifCommand": "usartXfer",
            "ifName": "tester1",
            "name": "Probador 1, encender entrada 3",
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000,
            "txCommand": "pb3",
            "txParameter": "1"
        },
        {
            "CR": true,
            "LF": true,
            "description": "Prueba si la entrada 3 está presionada",
            "enabled": true,
            "id": "testIN3ON",
            "ifCommand": "usartXfer",
            "ifName": "dut",
            "name": "Enviar @IN3ON",
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000,
            "txCommand": "@IN3ON"
        },
        {
            "CR": true,
            "LF": true,
            "description": "Comando para probar el circuito de la bobina",
            "enabled": true,
            "id": "testBobina",
            "ifCommand": "usartXfer",
            "ifName": "dut",
            "name": "Enviar @BOBINA",
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000,
            "txCommand": "@BOBINA"
        },
        {
            "CR": true,
            "LF": true,
            "description": "Comando para probar la Flash",
            "enabled": true,
            "id": "testFlash",
            "ifCommand": "usartXfer",
            "ifName": "dut",
            "name": "Enviar @FLASH",
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000,
            "txCommand": "@FLASH"
        },
        {
            "CR": true,
            "LF": true,
            "description": "Comando para probar la Eeprom",
            "enabled": true,
            "id": "testEeprom",
            "ifCommand": "usartXfer",
            "ifName": "dut",
            "name": "Enviar @EEPROM",
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000,
            "txCommand": "@EEPROM"
        },
        {
            "CR": true,
            "LF": true,
            "description": "Comprueba la comunicación en el UART3",
            "enabled": true,
            "id": "testUart",
            "ifCommand": "usartXfer",
            "ifName": "dut",
            "name": "Enviar @UART3",
            "onErr": "1",
            "onOk": "0",
            "timeout": 5000,
            "txCommand": "@UART3"
        },
        {
            "CR": true,
            "LF": true,
            "description": "Comando para probar el LCD",
            "enabled": true,
            "end": true,
            "id": "testLCD",
            "ifCommand": "usartXfer",
            "ifName": "dut",
            "messageNotice": "Por favor, observe minuciosamente la secuencia de imágenes del LCD",
            "name": "Enviar @LCD",
            "onErr": "1",
            "onOk": "0",
            "timeout": 30000,
            "txCommand": "@LCD"
        },
        {
            "description": "Indicar si la secuencia de imágenes del LCD fue correcta.",
            "enabled": true,
            "id": "verificaLCD",
            "ifCommand": "dialog",
            "ifName": "app",
            "ifParameter": "Indique si la secuencia de imágenes del LCD fue correcta.",
            "name": "Verificar prueba del LCD",
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000
        },
        {
            "description": "Abre la interfaz de comunicación con el probador 2",
            "enabled": true,
            "end": true,
            "id": "openTester2",
            "name": "Abre comunicación con probador 2",
            "ifCommand": "open",
            "ifName": "tester2",
            "messageOnErr": "No es posible abrir la interfaz de comunicación con el probador 2",
            "timeout": 500
        },
        {
            "CR": true,
            "LF": true,
            "description": "Comando para pobrar la comunicación con Lora",
            "enabled": true,
            "end": true,
            "id": "testLora",
            "name": "Enviar @SX1276",
            "ifCommand": "usartXfer",
            "ifName": "dut",
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000,
            "txCommand": "@SX1276",
            "txParameter": "02B7050272"
        },
        {
            "CR": true,
            "LF": true,
            "description": "description",
            "enabled": true,
            "id": "id",
            "name": "Probador 2 Envía trama SX1276",
            "ifCommand": "usartXfer",
            "ifName": "tester2",
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000,
            "txCommand": "lr"
        },
        {
            "CR": true,
            "LF": true,
            "description": "description",
            "enabled": true,
            "id": "id",
            "name": "Enviar @SX1276 verificar",
            "ifCommand": "usartXfer",
            "ifName": "dut",
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000,
            "txCommand": "@SX1276",
            "txParameter": "v"
        },
        {
            "CR": true,
            "LF": true,
            "description": "description",
            "enabled": true,
            "id": "leerTempRef",
            "name": "Probador 2 medir referencia de Temperatura",
            "ifCommand": "usartXfer",
            "ifName": "tester2",
            "onErr": "1",
            "onOk": "0",
            "rxParameter": "%x",
            "timeout": 1000,
            "txCommand": "t"
        },
        {
            "CR": true,
            "LF": true,
            "description": "Comando para pobrar el sensor de temperatura",
            "deviation": 2,
            "enabled": true,
            "formula": "%x/65535*165-40",
            "id": "testHDC1080T",
            "name": "Enviar @HDC1080T",
            "ifCommand": "usartXfer",
            "ifName": "dut",
            "mean": 27.878233005264363,
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000,
            "txCommand": "@HDC1080T",
            "useFormula": true
        },
        {
            "CR": true,
            "LF": true,
            "description": "description",
            "enabled": true,
            "id": "id",
            "name": "Probador 2 medir referencia de Humedad",
            "ifCommand": "usartXfer",
            "ifName": "tester2",
            "onErr": "1",
            "onOk": "0",
            "rxParameter": "%x",
            "timeout": 1000,
            "txCommand": "h"
        },
        {
            "CR": true,
            "LF": true,
            "description": "Comando para pobrar el sensor de humedad",
            "deviation": 10,
            "enabled": true,
            "formula": "%x/65535*100",
            "id": "testHDC1080H",
            "name": "Enviar @HDC1080H",
            "ifCommand": "usartXfer",
            "ifName": "dut",
            "mean": 36.07843137254902,
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000,
            "txCommand": "@HDC1080H",
            "useFormula": true
        },
        {
            "description": "",
            "enabled": true,
            "id": "closeDut",
            "ifCommand": "close",
            "ifName": "dut",
            "name": "Cerrar la interfaz de comunicación con el Qiblí",
            "runOnJump": true,
            "timeout": 3000
        },
        {
            "CR": true,
            "LF": true,
            "description": "Envia el comando al arduino para apagar la fuente del equipo",
            "enabled": true,
            "id": "powerOff",
            "ifCommand": "usartXfer",
            "ifName": "tester1",
            "name": "Apagar la fuente principal del Qibli",
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000,
            "txCommand": "powerOff"
        },
        {
            "description": "",
            "enabled": true,
            "id": "id",
            "ifCommand": "deadtime",
            "ifName": "app",
            "name": "Demora 1 segundo",
            "onErr": "1",
            "onOk": "0",
            "timeout": 1000
        },
        {
            "CR": true,
            "LF": true,
            "delay": 1000,
            "description": "Envia el comando al arduino para enceder la fuente del equipo",
            "enabled": true,
            "end": true,
            "id": "powerOn",
            "ifCommand": "usartXfer",
            "ifName": "tester1",
            "name": "Encender la fuente principal del Qibli",
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000,
            "txCommand": "powerOn"
        },
        {
            "description": "Abre la interfaz de comunicación con el Qibli, puede demorar mas de 30 segundos.",
            "enabled": true,
            "end": true,
            "id": "openDut",
            "ifCommand": "open",
            "ifName": "dut",
            "messageOnErr": "No es posible abrir la interfaz de comunicación con el Qibli",
            "name": "Abrir la interfaz de comunicación con el Qibli",
            "timeout": 20000
        },
        {
            "description": "Lee la hora y la compara con la hora del sistema",
            "enabled": true,
            "id": "checkRTC",
            "ifCommand": "usartXfer",
            "ifName": "dut",
            "name": "Verificando la hora",
            "rxCommand": "RTC:",
            "rxParameter": "%D",
            "timeout": 30000
        },
        {
            "description": "Genera la trama de configuración que se enviará al equipo.",
            "enabled": true,
            "id": "userConfigGen",
            "ifAnswer": "%x",
            "ifCommand": "run",
            "ifName": "novatecnicaFrameConfigurator",
            "ifParameter": "-m Q20 -f P4 -s %serialNumber --t1 02b7051ce5 -d -t 72 --rh --rl",
            "name": "Generar trama de configuración",
            "onErr": "1",
            "onOk": "0",
            "timeout": 3000
        },
        {
            "description": "Enviar la configuración de funcionamiento al equipo",
            "enabled": true,
            "id": "sendUserConfig",
            "ifCommand": "usartXfer",
            "ifName": "dut",
            "name": "Envía configuración al equipo",
            "rxCommand": "!PG",
            "timeout": 3000,
            "txCommand": "%x"
        },
        {
            "CR": true,
            "LF": true,
            "description": "Envia el comando al arduino para enceder la fuente del equipo",
            "enabled": true,
            "id": "powerOff",
            "ifCommand": "usartXfer",
            "ifName": "tester1",
            "name": "Apagar la fuente principal del Qibli",
            "onErr": "1",
            "onOk": "0",
            "runOnJump": true,
            "timeout": 3000,
            "txCommand": "powerOff"
        }
    ]
}
